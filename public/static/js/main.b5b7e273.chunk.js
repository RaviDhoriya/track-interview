(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{62:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c.n(n),r=c(23),j=c.n(r),i=(c(62),c(82)),o=c(54),l=c(86),b=c(55),d=c(32),h=c(35),O=c(13),u=c(7),x=c(77),m=function(){return Object(a.jsxs)(x.a,{children:[Object(a.jsx)("h3",{children:"Track Interview"}),"Welcome to Track Interview App"]})},v=c(9),f=c(78),p=c(79),g={BASE:"https://trackinterview.herokuapp.com",headers:function(){return{"Content-Type":"application/json"}},getMyJobs:function(e){try{var t={};t.headers=g.headers(),t.method="GET",fetch(g.BASE+"/api/jobs",t).then((function(e){return e.json()})).then((function(t){return e(t)}))}catch(c){e({status:!1,message:"Failed to get Jobs",error:c})}},getJobDetails:function(e,t){try{var c={};c.headers=g.headers(),c.method="GET",fetch("".concat(g.BASE,"/api/jobs/").concat(e),c).then((function(e){return e.json()})).then((function(e){return t(e)}))}catch(a){t({status:!1,message:"Failed to get job details",error:a})}},newJob:function(e,t){try{var c={};c.headers=g.headers(),c.method="POST",c.body=JSON.stringify(e),fetch(g.BASE+"/api/jobs",c).then((function(e){return e.json()})).then((function(e){return t(e)}))}catch(a){t({status:!1,message:"Failed to add Job",error:a})}},editJob:function(e,t){try{var c={};c.headers=g.headers(),c.method="PUT",c.body=JSON.stringify(e),fetch(g.BASE+"/api/jobs",c).then((function(e){return e.json()})).then((function(e){return t(e)}))}catch(a){t({status:!1,message:"Failed to edit Job",error:a})}},deleteJob:function(e,t){try{var c={};c.headers=g.headers(),c.method="DELETE",c.body=JSON.stringify(e),fetch(g.BASE+"/api/jobs",c).then((function(e){return e.json()})).then((function(e){return t(e)}))}catch(a){t({status:!1,message:"Failed to delete Job",error:a})}}},y=g,S=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){y.getMyJobs((function(e){e.status?s(e.data):console.error("Failed to load My Jobs")}))}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(f.a,{as:O.b,to:"/job-add",variant:"outline-primary",className:"float-right",children:"[+] New Job"}),Object(a.jsx)("h3",{children:"Dashboard"}),Object(a.jsxs)(p.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Sr#"}),Object(a.jsx)("td",{children:"Position"}),Object(a.jsx)("td",{children:"Company"}),Object(a.jsx)("td",{children:"Status"}),Object(a.jsx)("td",{children:"Applied"}),Object(a.jsx)("td",{children:"Action"})]})}),Object(a.jsx)("tbody",{children:c.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:Object(a.jsx)(O.b,{to:"/job/".concat(e._id),children:e.name})}),Object(a.jsx)("td",{children:e.company}),Object(a.jsx)("td",{children:e.status}),Object(a.jsx)("td",{children:e.applied}),Object(a.jsxs)("td",{children:[Object(a.jsx)(f.a,{as:O.b,to:"/job-edit/".concat(e._id),children:"Edit"})," ",Object(a.jsx)(f.a,{variant:"danger",onClick:function(t){return function(e){if(window.confirm('Do you want to delete job "'.concat(e.name," - ").concat(e.company,"?"))){var t={};t.job_id=e._id,y.deleteJob(t,(function(t){if(t.status){var a=c.filter((function(t){return t._id!==e._id}));s(a)}}))}}(e)},children:"Delete"})]})]},e._id)}))})]})]})})},C=c(84),J=c(80),w=c(50),_=c(47),k=c(49),E=c(48),N=c(87),L=function(){var e=Object(u.f)(),t=Object(u.g)().job_id,c=Object(n.useState)(""),s=Object(v.a)(c,2),r=s[0],j=s[1],i=Object(n.useState)(""),o=Object(v.a)(i,2),l=o[0],b=o[1],d=Object(n.useState)(""),h=Object(v.a)(d,2),O=h[0],m=h[1],p=Object(n.useState)(""),g=Object(v.a)(p,2),S=g[0],L=g[1],T=Object(n.useState)(""),D=Object(v.a)(T,2),R=D[0],A=D[1],B=Object(n.useState)(""),M=Object(v.a)(B,2),U=M[0],I=M[1],F=Object(n.useState)([]),P=Object(v.a)(F,2),H=P[0],G=P[1],z=Object(n.useState)(""),W=Object(v.a)(z,2),q=W[0],K=W[1],Q=Object(n.useState)(0),V=Object(v.a)(Q,2),X=V[0],Y=V[1],Z=Object(n.useState)(0),$=Object(v.a)(Z,2),ee=$[0],te=$[1],ce=Object(n.useState)(""),ae=Object(v.a)(ce,2),ne=ae[0],se=ae[1],re=Object(n.useState)(""),je=Object(v.a)(re,2),ie=je[0],oe=je[1],le=Object(n.useState)(""),be=Object(v.a)(le,2),de=be[0],he=be[1],Oe=Object(n.useState)(""),ue=Object(v.a)(Oe,2),xe=ue[0],me=ue[1],ve=Object(n.useState)({msg:"",variant:""}),fe=Object(v.a)(ve,2),pe=fe[0],ge=fe[1];return Object(n.useEffect)((function(){t&&y.getJobDetails(t,(function(e){if(console.log(e),e.status){var c=e.data;j(c.name),b(c.company),m(c.job_url),L(c.review_url),A(c.linkedin_url),I(c.source),G(c.skills),K(c.location),Y(c.ctc_min),te(c.ctc_max),se(c.notes),oe(c.hr.name),he(c.hr.email),me(c.hr.phone)}else console.error("Job not found."),t=void 0}))}),[]),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("h3",{children:"Create New Job"}),Object(a.jsxs)(C.a,{children:[Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Job Position"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Enter Job Position",value:r,onChange:function(e){return j(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Company"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Enter Company Name",value:l,onChange:function(e){return b(e.target.value)}})]})})]}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Job URL"}),Object(a.jsx)(E.a,{type:"url",placeholder:"Enter Job URL",value:O,onChange:function(e){return m(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"LinkedIn URL"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Enter LinkedIn URL",value:R,onChange:function(e){return A(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsxs)(k.a,{children:["Review URL ",Object(a.jsx)("small",{children:"(eg. Glassdoor)"})]}),Object(a.jsx)(E.a,{type:"url",placeholder:"Enter Review URL",value:S,onChange:function(e){return L(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Source"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Enter Job Source",value:U,onChange:function(e){return I(e.target.value)}})]})})]}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Skills"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Skills needed for this job",value:H.join(","),onChange:function(e){return G(e.target.value.split(","))}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Job Location"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Enter Job Location",value:q,onChange:function(e){return K(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Minimum CTC"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Minimum CTC",value:X,onChange:function(e){return Y(e.target.value)}})]})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Maximum CTC"}),Object(a.jsx)(E.a,{type:"text",placeholder:"Maximum CTC",value:ee,onChange:function(e){return te(e.target.value)}})]})})]}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(_.a,{children:[Object(a.jsx)(k.a,{children:"Notes"}),Object(a.jsx)(E.a,{as:"textarea",rows:"3",placeholder:"Notes about this Job",value:ne,onChange:function(e){return se(e.target.value)}})]})}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)("div",{children:"HR Contact"}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(_.a,{children:Object(a.jsx)(E.a,{type:"text",placeholder:"HR Name",value:ie,onChange:function(e){return oe(e.target.value)}})})}),Object(a.jsx)(w.a,{children:Object(a.jsx)(_.a,{children:Object(a.jsx)(E.a,{type:"email",placeholder:"HR Email Address",value:de,onChange:function(e){return he(e.target.value)}})})})]}),Object(a.jsxs)(J.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(_.a,{children:Object(a.jsx)(E.a,{type:"tel",placeholder:"HR Phone Number",value:xe,onChange:function(e){return me(e.target.value)}})})}),Object(a.jsx)(w.a,{})]})]})]}),Object(a.jsx)(J.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(f.a,{variant:"primary",className:"mr-3",onClick:function(c){return function(c){var a={};a.name=r,a.company=l,a.job_url=O,a.review_url=S,a.linkedin_url=R,a.source=U,a.skills=H,a.location=q,a.ctc_min=X,a.ctc_max=ee,a.notes=ne,a.hr={name:ie,email:de,phone:xe},a.applied=(new Date).toString(),t?(a.job_id=t,y.editJob(a,(function(t){t.status?(ge({msg:t.message,variant:"success"}),e.goBack()):ge({msg:t.message,variant:"danger"})}))):y.newJob(a,(function(t){t.status?(ge({msg:t.message,variant:"success"}),e.goBack()):ge({msg:t.message,variant:"danger"})}))}()},children:"Save"}),Object(a.jsx)(f.a,{variant:"secondary",onClick:function(){return e.goBack()},children:"Cancel"})]})}),Object(a.jsx)(J.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)("br",{}),Object(a.jsx)(N.a,{show:""!==pe.msg,variant:pe.variant,dismissible:!0,onClose:function(){return ge({msg:"",variant:""})},children:pe.msg})]})})]})]})},T=c(81),D=c(24),R=c(53),A=c(29),B=c(85),M=function(){var e=Object(u.g)().job_id,t=Object(n.useState)({skills:[],activities:[]}),c=Object(v.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){y.getJobDetails(e,(function(e){e.status&&(console.log(e.data),r(e.data))}))}),[]),Object(a.jsxs)(x.a,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)(J.a,{children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(T.a,{children:[Object(a.jsxs)("h3",{className:"company-name",children:[s.company," ",Object(a.jsxs)("small",{children:["(",s.location,")"]})]}),Object(a.jsxs)("div",{className:"position-name",children:[s.name," ",Object(a.jsx)("small",{children:Object(a.jsxs)("a",{href:s.job_url,target:"_new",children:[s.source," ",Object(a.jsx)(D.a,{icon:A.b})]})})]}),Object(a.jsxs)("div",{className:"icon-row",children:[Object(a.jsxs)("a",{href:s.linkedin_url,target:"_new",children:[Object(a.jsx)(D.a,{icon:R.a})," LinkedIn"]})," ","|"," ",Object(a.jsxs)("a",{href:s.review_url,target:"_new",children:[Object(a.jsx)(D.a,{icon:A.c})," Glassdoor Review"]})," "]}),Object(a.jsx)("div",{className:"skill-row",children:s.skills.map((function(e,t){return Object(a.jsx)("span",{className:"skill-tag",children:e})}))}),Object(a.jsxs)("div",{className:"ctc-row",children:["CTC: ",s.ctc_min,""!==s.ctc_max?" - "+s.ctc_max:""]})]})})}),Object(a.jsx)(J.a,{children:Object(a.jsx)(w.a,{className:"activity-list",children:s.activities.map((function(e,t){return Object(a.jsxs)("div",{className:"activity-box",children:[Object(a.jsxs)("div",{className:"activity-buttons",children:[Object(a.jsx)(f.a,{variant:"danger",size:"sm",children:Object(a.jsx)(D.a,{icon:A.d})}),"  ",Object(a.jsx)(f.a,{variant:"warning",size:"sm",children:Object(a.jsx)(D.a,{icon:A.a})})]}),Object(a.jsxs)("div",{className:"activity-head",children:["".concat(new Date(e.stamp).toLocaleDateString()," ").concat(new Date(e.stamp).toLocaleTimeString())," ",Object(a.jsx)(B.a,{date:e.stamp,locale:"en-US"})]}),Object(a.jsx)("div",{className:"activity-body",children:e.body})]})}))})})]})},U=c(83),I=c(43);U.a.addDefaultLocale(I),U.a.addLocale(I);var F=function(){return Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(i.a,{children:[Object(a.jsx)(o.a,{children:"Track Interview"}),Object(a.jsx)(d.a,{"aria-controls":"nav"}),Object(a.jsx)(h.a,{id:"nav",children:Object(a.jsxs)(l.a,{className:"mr-auto",children:[Object(a.jsx)(b.a,{as:O.b,to:"/",children:"Home"}),Object(a.jsx)(b.a,{as:O.b,to:"/dashboard",children:"Dashboard"})]})})]}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/dashboard",children:Object(a.jsx)(S,{})}),Object(a.jsx)(u.a,{path:"/job-add",children:Object(a.jsx)(L,{})}),Object(a.jsx)(u.a,{path:"/job-edit/:job_id",children:Object(a.jsx)(L,{})}),Object(a.jsx)(u.a,{path:"/job/:job_id",children:Object(a.jsx)(M,{})}),Object(a.jsx)(u.a,{path:"/",children:Object(a.jsx)(m,{})})]})]})};j.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(x.a,{children:Object(a.jsx)(F,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.b5b7e273.chunk.js.map